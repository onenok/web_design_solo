<!--This is not a independent page-->
<!--It will be add in to a <div> element-->
<!--no need to start with <!DOCTYPE html> <html> <head> <body> tags-->

<!--need to edit-->
<style>
    .feedback-page {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 48px;
        height: 100%;
    }

    .feedback-page h1 {
        font-size: 36px;
        margin-bottom: 20px;
        text-align: center;
    }
</style>
<div class="feedback-page usingFormDefaultStyle">
    <div class="form-container">
        <h1>我們重視您的反饋</h1>
        <form id="feedback-form" action="#" method="post">
            <div class="form-input-group">
                <label for="name" class="form-label">姓名:</label>
                <input type="text" id="name" name="name" placeholder="輸入姓名" class="form-input"
                    autocomplete="off" required><br><br>
            </div>

            <div class="form-input-group">
                <label for="email" class="form-label">電子郵件:</label>
                <input type="email" id="email" name="email" placeholder="輸入電子郵件" class="form-input"
                    required><br><br>
            </div>

            <div class="form-input-group">
                <label for="comments" class="form-label">意見反饋:</label>
                <textarea id="comments" name="comments" rows="20" cols="50" placeholder="在此輸入您的意見..."
                    class="form-textarea" required></textarea><br><br>
            </div>

            <input type="submit" value="提交反饋" class="form-submit-button">
        </form>
    </div>
</div>
<script>
    console.log('Feedback page script loaded');
    function doubleCheckAndSave(form) {
        const name = form.name.value.trim();
        const email = form.email.value.trim();
        const comments = form.comments.value.trim();

        if (!name || !email || !comments) {
            alert("Please fill in all required fields.");
            return false;
        }

        if (!validator.isEmail(email)) {
            alert("Invalid email address\nPlease enter a valid email address.");
            return false;
        }

        const confirmation = confirm(`Please confirm your feedback:\n\nName: ${name}\nEmail: ${email}\nFeedback: ${comments}\n\nSubmit?`);
        if (!confirmation) {
            return false; // Cancel form submission
        }
        alert("Thank you for your feedback!");
        
        sessionStorage.clear();
        sessionStorage.setItem('submittedItems', ['Name', 'Email', 'Comments']);
        sessionStorage.setItem('Name', name);
        sessionStorage.setItem('Email', email);
        sessionStorage.setItem('Comments', comments);
        // Here you can add code to actually save the feedback, e.g., send it to a server
        window.location.hash = "#showFormValue";
        return false; // Proceed with form submission
    }
    const feedbackForm = document.getElementById('feedback-form');
    feedbackForm.addEventListener('submit', (event) => {
        event.preventDefault();
        doubleCheckAndSave(feedbackForm)
    });
</script>